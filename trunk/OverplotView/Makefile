#
# generic Makefile for isaw
#
# $Log$
# Revision 1.3  2000/07/06 18:01:12  neffk
# added Makefile
#
# Revision 1.3  2000/06/22 22:29:48  neffk
# *** empty log message ***
#
#

CLASS = isawLineProfileLayout.class         \
        Designator.class                    \
        EntityColor.class                   \
        GraphableData.class                 \
        GraphableDataManager.class          \
        LineType.class                      \
        LineTypeDesignator.class            \
        Marker.class                        \
        MarkerDesignator.class              \
        RedrawInstruction.class             \
        StringDesignator.class              \
        SelectedGraph.class                 \
        SelectionPane.class                 \
        sgtSelectedGraph.class              \
        NumberTypeConverter.class


SRC   = isawLineProfileLayout.java         \
        Designator.java                    \
        EntityColor.java                   \
        GraphableData.java                 \
        GraphableDataManager.java          \
        LineType.java                      \
        LineTypeDesignator.java            \
        Marker.java                        \
        MarkerDesignator.java              \
        RedrawInstruction.java             \
        StringDesignator.java              \
        SelectedGraph.java                 \
        SelectionPane.java                 \
        sgtSelectedGraph.java              \
        util/NumberTypeConverter.java

CONTAINERS = components/containers
UTIL = util


silent:
	make -s list

#
# list options
#
list:
	echo "--------------------------------------------------"
	echo "all           - builds viewer (user)"
	echo "run           - runs viewer in standalone (user)"
	echo "run-all       - runs IsawGUI (user)"
	echo "docs          - creates documentation (user)"
	echo "distro-src    - creates distribution source tree (developer only)"
	echo "distro-all    - creates distribution source tree (developer only)"
	echo "distro-class  - creates distribution source tree (developer only)"
	echo "--------------------------------------------------"
	echo ""


#
# build application
#
#all: $(CLASS)
#	javac SelectedGraphView.java
all:
	javac -g *.java
	cd components/containers; javac -g *.java;  cd ../..


#
# run application
#
run:
	java SelectedGraphView.SelectedGraphView

run-all:
	java IsawGUI.Isaw


#
# create documentation
#
DOC = /IPNShome/neffk/java/dev/isaw/IPNS_Software/OverplotView/doc/html

docs:
	#rm -R $(DOC)/*
	javadoc -d $(DOC) \
          OverplotView \
          OverplotView.components.containers \
          OverplotView.util




#
# distribution build - copies source into a seperate tree for distribution
#
DISTRO = /IPNShome/neffk/java/distro
DEST = $(DISTRO)/SelectedGraphView
DCOMPONENTS = $(DEST)/components
DCONTAINERS = $(DCOMPONENTS)/containers
DUTIL = $(DEST)/$(UTIL)
FILES = $(DEST)/FILES

distro-src:
	echo "# generated by 'make distro-src'" > $(FILES)
	rm -Rf $(DEST)
	mkdir $(DEST)
	mkdir $(DCOMPONENTS)
	mkdir $(DCONTAINERS)
	mkdir $(DUTIL)
	cp Makefile $(DEST)
	echo "Makefile" >> $(FILES)
	cp ./isawLineProfileLayout.java $(DEST)
	echo "isawLineProfileLayout.java" >> $(FILES)
	cp ./SelectedGraph.java $(DEST)
	echo "SelectedGraph.java" >> $(FILES)
	cp ./SelectedGraphView.java $(DEST)/SelectedGraphView.java
	echo "SelectedGraphView.java" >> $(FILES)
	cp ./SelectionPane.java $(DEST)
	echo "SelectionPane.java" >> $(FILES)
	cp ./sgtSelectedGraph.java $(DEST)
	echo "sgtSelectedGraph.java" >> $(FILES)
	cp ./util/NumberTypeConverter.java $(DUTIL)
	echo "util/NumberTypeConverter.java" >> $(FILES)
	cp ./$(CONTAINERS)/Designator.java $(DCONTAINERS)
	echo "$(CONTAINERS)/Designator.java" >> $(FILES)
	cp ./$(CONTAINERS)/EntityColor.java $(DCONTAINERS)
	echo "$(CONTAINERS)/EntityColor.java" >> $(FILES)
	cp ./$(CONTAINERS)/GraphableData.java $(DCONTAINERS)
	echo "$(CONTAINERS)/GraphableData.java" >> $(FILES)
	cp ./$(CONTAINERS)/GraphableDataManager.java $(DCONTAINERS) 
	echo "$(CONTAINERS)/GraphableDataManager.java" >> $(FILES)
	cp ./$(CONTAINERS)/LineType.java $(DCONTAINERS)
	echo "$(CONTAINERS)/LineType.java " >> $(FILES)
	cp ./$(CONTAINERS)/LineTypeDesignator.java $(DCONTAINERS)
	echo "$(CONTAINERS)/LineTypeDesignator.java" >> $(FILES)
	cp ./$(CONTAINERS)/Marker.java $(DCONTAINERS)
	echo "$(CONTAINERS)/Marker.java" >> $(FILES)
	cp ./$(CONTAINERS)/MarkerDesignator.java $(DCONTAINERS)
	echo "$(CONTAINERS)/MarkerDesignator.java" >> $(FILES)
	cp ./$(CONTAINERS)/RedrawInstruction.java $(DCONTAINERS)
	echo "$(CONTAINERS)/RedrawInstruction.java" >> $(FILES)
	cp ./$(CONTAINERS)/StringDesignator.java $(DCONTAINERS)
	echo "$(CONTAINERS)/StringDesignator.java" >> $(FILES)
	


distro-all:
	echo "# generated by 'make distro-all'" > $(FILES)
	rm -Rf $(DEST)
	mkdir $(DEST)
	mkdir $(DCOMPONENTS)
	mkdir $(DCONTAINERS)
	mkdir $(DUTIL)
	cp Makefile $(DEST)/Makefile
	echo "Makefile" >> $(FILES)
	cp ./*.java $(DEST)
	cp ./*.class $(DEST)
	cp ./$(CONTAINERS)/*.java $(DCONTAINERS)
	cp ./$(CONTAINERS)/*.class $(DCONTAINERS)
	cp ./$(UTIL)/*.java $(DUTIL)
	cp ./$(UTIL)/*.class $(DUTIL)
	cd /IPNShome/neffk/java/distro
	jar -cvf SelectedGraphView.jar SelectedGraphView/
	cd /IPNShome/neffk/java/dev/isaw/IPNS_Software/SelectedGraphView


distro-class:
	echo "# generated by 'make distro-class'" > $(FILES)
	rm -Rf $(DEST)
	mkdir $(DEST)
	mkdir $(DCOMPONENTS)
	mkdir $(DCONTAINERS)
	mkdir $(DUTIL)
	cp Makefile $(DEST)/Makefile
	echo "Makefile" >> $(FILES)
	cp ./*.class $(DEST)
	cp ./$(CONTAINERS)/*.class $(DCONTAINERS)
	cp ./$(UTIL)/*.class $(DUTIL)



#
# dependency rules for SelectedGraphView
#
isawLineProfileLayout.class: isawLineProfileLayout.java 
	javac isawLineProfileLayout.java


Designator.class: $(CONTAINERS)/Designator.java
	javac $(CONTAINERS)/Designator.java


LineTypeDesignator.class: $(CONTAINERS)/LineTypeDesignator.java \
                        Designator.class
	javac $(CONTAINERS)/LineTypeDesignator.java


MarkerDesignator.class: $(CONTAINERS)/MarkerDesignator.java \
                        Designator.class
	javac $(CONTAINERS)/MarkerDesignator.java


StringDesignator.class: $(CONTAINERS)/StringDesignator.java \
                        Designator.class
	javac $(CONTAINERS)/StringDesignator.java



EntityColor.class: $(CONTAINERS)/EntityColor.java
	javac $(CONTAINERS)/EntityColor.java



LineType.class: $(CONTAINERS)/LineType.java
	javac $(CONTAINERS)/LineType.java



Marker.class: $(CONTAINERS)/Marker.java
	javac $(CONTAINERS)/Marker.java



RedrawInstruction.class: $(CONTAINERS)/RedrawInstruction.java
	javac $(CONTAINERS)/RedrawInstruction.java


SelectedGraphView.class: SelectedGraphView.java \
                         SelectionPane.class \
                         GraphableDataManager.class \
	javac SelectedGraphView.java


SelectedGraph.class: EntityColor.class \
                     LineType.class \
                     Marker.class \
                     RedrawInstruction.class
	javac SelectedGraph.java


SelectionPane.class: SelectionPane.java 
	javac SelectionPane.java


GraphableDataManager.class: $(CONTAINERS)/GraphableDataManager.java \
                            GraphableData.class \
                            RedrawInstruction.class
	javac $(CONTAINERS)/GraphableDataManager.java


GraphableData.class:  $(CONTAINERS)/GraphableData.java
	javac  $(CONTAINERS)/GraphableData.java


sgtSelectedGraph.class: $(CONTAINERS)/sgtSelectedGraph.java \
                        SelectedGraph.class \
                        NumberTypeConverter.class
	javac sgtSelectedGraph.java


NumberTypeConverter.class: $(UTIL)/NumberTypeConverter.java
	javac $(UTIL)/NumberTypeConverter.java


clean: 
	rm ./*.class
	rm $(CONTAINERS)/*.class
	rm $(UTIL)/*.class


