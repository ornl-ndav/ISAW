#
# generic Makefile for isaw
#
# $Log$
# Revision 1.4  2000/07/06 19:55:55  neffk
# added progress file
#
# Revision 1.3  2000/07/06 18:01:12  neffk
# added Makefile
#
# Revision 1.3  2000/06/22 22:29:48  neffk
# *** empty log message ***
#


CONTAINERS = components/containers
UTIL = util


silent:
	make -s list


#
# list options
#
list:
	echo "--------------------------------------------------"
	echo "all           - builds viewer (user)"
	echo "run           - runs viewer in standalone (user)"
	echo "run-all       - runs IsawGUI (user)"
	echo "docs          - creates documentation (user)"
	echo "distro-all    - creates distribution source tree (developer only)"
	echo "--------------------------------------------------"
	echo ""


#
# build application
#
#all: $(CLASS)
#	javac SelectedGraphView.java
all:
	javac -g *.java
	cd components/containers; javac -g *.java;  cd ../..


#
# run application
#
run:
	java OverplotView.SelectedGraphView

run-all:
	java IsawGUI.Isaw


#
# create documentation
#
DOC = /IPNShome/neffk/ISAW/OverplotView/doc/html

docs:
	#rm -R $(DOC)/*
	javadoc -d $(DOC) \
          OverplotView \
          OverplotView.components.containers \
          OverplotView.util




#
# distribution build - copies source into a seperate tree for distribution
#
DISTRO = /IPNShome/neffk/java/distro
DEST = $(DISTRO)/OverplotView
DCOMPONENTS = $(DEST)/components
DCONTAINERS = $(DCOMPONENTS)/containers
DUTIL = $(DEST)/$(UTIL)
FILES = $(DEST)/FILES

distro-all:
	echo "# generated by 'make distro-all'" > $(FILES)
	rm -Rf $(DEST)
	mkdir $(DEST)
	mkdir $(DCOMPONENTS)
	mkdir $(DCONTAINERS)
	mkdir $(DUTIL)
	cp Makefile $(DEST)
	cp FILES $(DEST)
	cp DIRECTORIES $(DEST)
	cp ./*.java $(DEST)
	cp ./*.class $(DEST)
	cp ./$(CONTAINERS)/*.java $(DCONTAINERS)
	cp ./$(CONTAINERS)/*.class $(DCONTAINERS)
	cp ./$(UTIL)/*.java $(DUTIL)
	cp ./$(UTIL)/*.class $(DUTIL)


clean: 
	rm ./*.class;  rm $(CONTAINERS)/*.class;   rm $(UTIL)/*.class


