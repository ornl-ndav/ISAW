<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (Win98; I) [Netscape]">
   <title>Examples1</title>
</head>
<body>
<a href="Examples.html">EXAMPLES</a><P>
<a name="Arithmetic"></a>
<pre># Sample Program expressions and assignment
x = 1+2*(3+4)
y = 2*x^2-3*x+1
Display y

# String Data
Z = "abcd"
W = Z&amp;"uvwx"
Display "String Result is " &amp; W

#Logical Data&nbsp;
D = True
E = D OR x&lt;3&nbsp; And NOT W &lt;"abcd"
Display E

Display x==3
# "=" can be used in place of "==" if
#&nbsp;&nbsp; it cannot be confused with the assignment
#&nbsp;&nbsp; statement</pre>

<hr><a NAME="Arrays"></a><a NAME="For"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre># Sample Program for For Loops
x[0] = 1
x[1] = 3
x[2] = 8
x[3] = 12
Sum = 0
for i in [0:3]
&nbsp; Sum = Sum + x[i]
endfor

Display Sum</pre>
<hr>
<pre>
# special array operations
d=[1,3,5,7:9]
d1=[1,2,3,4,5]
d1=d1&[6]
Display d+d1
Display d&d1

Display [ [1,2,3],[4,5,6],[7,8,9]]
d =[ [1,2,3],[4,5,6],[7,8,9]]
Display d[ 0, 2]


</pre>

<hr><a NAME="if"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre># Sample program to illustrate If-Then statements
x= 8
y= 3
S = "rst"
if x > 2 then
&nbsp; Display "x>2"
endif

if x &lt; 3
&nbsp;&nbsp; Display "x&lt;3"
elseif&nbsp; S &lt;> "uvw"
&nbsp;&nbsp; Display "S&lt;> uvw"
else
&nbsp;&nbsp; Display "none"
endif

# Nesting of if-then structures are allowed.&nbsp;
# For loops can be nested in and can nest if-the structures</pre>

<hr><a NAME="error"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre># Sample program demonstrating on error

x[0]=1
x[1] =5
x[2]=3
x[3]=5
x[4] = 8
for i in [0:4]
&nbsp; on error
&nbsp;&nbsp;&nbsp; Display Z
&nbsp; else error
&nbsp;&nbsp;&nbsp;&nbsp; Display "undefined"
&nbsp; end error
endfor

# on error's can be nested with for and if structures.

<hr><a NAME="Parameters"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre># Sample Program demonstrating Parameters
#
$X&nbsp;&nbsp;&nbsp; Integer&nbsp;&nbsp;&nbsp; Enter X
$Y&nbsp;&nbsp;&nbsp; String&nbsp;&nbsp;&nbsp;&nbsp; Enter Y
$Z&nbsp;&nbsp;&nbsp; DataSet&nbsp;&nbsp;&nbsp; Enter DataSet

Display X
Display Y
Display Z</pre>

<hr>
<a href="Examples.html">EXAMPLES</a><P>
# Sample Program demonstrating advanced Parameters features<Br>
# that use constants set in <A href="Interfaces.html#DataTypes">IsawProps.dat</a> in the home directory<Br>
<pre>#
$X    DSFieldString            Enter X
$Y    InstrumentNameString     Enter Y
$Z    DataDirectoryString      Enter DataSet

Display X 
Display Y
Display Z

</pre>

<hr><a NAME="DataSetsSimple"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre># Sample Program- Load data set and some Arithmetic operations
Load "C:\ipns\Isaw\ARGONNE_DATA\Hrcs2810.run"
Display M1_Hrcs2810 + 2.0
Display M1_Hrcs2810 +M1_Hrcs2810
Display 2*M1_Hrcs2810

# Send sends the data set to who ever is listening
#    So far Isaw is the only one that listens.
send 2*M1_Hrcs2810</pre>

<hr>
<pre>"Sample Program simple Data Set
n=Load "C:/ipns/Isaw/ARGONNE_DATA/hrcs2447.run", "Test"
Display Test[0]
cross=CrossSect( Test[0], 0.0, 20.0, "Energy in")
Display cross
send cross

</pre>

<hr><a NAME="DataSetAdvance"></a>
<a href="Examples.html">EXAMPLES</a><P>
<pre>
#
# Script to load and merge a specific sequence of files

# First, specify any parameters to the script, giving the variable name,
# data type and prompt string. A dialog box will prompt the user for values 
# for these parameters.

$ low          Integer               Lowest Run number
$ high         Integer               Highest Run Number
$ path         DataDirectoryString   Path
$ instrument   InstrumentNameString  Instrument 
#
# Load the first file, and extract the desired spectra to initialize the
# merged DataSet with the data from the first run.
#
file_name = path&instrument&Low&".RUN"
load file_name,"temp"
first_num_pulses = GetAttr( temp[1], "Number of Pulses" )
merged_ds = ExtAtt( temp[1], "Raw Detector Angle", true, -95.0, -85.0 )
#
# Load each successive file, extract the desired spectra, scale them by the 
# ratio of the numbers of pulses, then merge into the final DataSet
#
for i in [Low+1:High]
   file_name = path&instrument&i&".RUN"
    load file_name,"temp"
    num_pulses = GetAttr( temp[1], "Number of Pulses" )
     if num_pulses &lt;>  0
          part_ds = ExtAtt( temp[1], "Raw Detector Angle", true, -95.0, -85.0 )
          scale_factor = first_num_pulses/(1.0*num_pulses)
          Mult( part_ds, scale_factor, false )
          merged_ds = Merge( merged_ds, part_ds )
      endif
 endfor
#
# Show the merged file and convert to D
#
Display merged_dsd_ds = ToD( merged_ds, 0.2, 3.0, 2000 )
Display d_ds
</pre>

<hr>
<A name="Batch"></a>
<pre>
import IsawGUI.*;
     import CommandPane;

     public class Batch 
     {ScriptOperator cp;

     public static void main(String args[])
          {Batch T;
          T = new Batch();
          T.cp = new ScriptOperator("C:\\Ruth\\Latest\\Test1.txt");
          System.out.println(T.cp.getResult());
          }
     } 
</pre>
<hr>
</body>
</html>
